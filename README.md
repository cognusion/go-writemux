

# writemux
`import "github.com/cognusion/go-writemux"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [Variables](#pkg-variables)
* [type WriteMux](#WriteMux)
  * [func NewWriteMux() WriteMux](#NewWriteMux)
  * [func NewWriteMuxWithErrors() WriteMux](#NewWriteMuxWithErrors)
  * [func (w *WriteMux) Add(wc io.WriteCloser) (index string)](#WriteMux.Add)
  * [func (w *WriteMux) Close() error](#WriteMux.Close)
  * [func (w *WriteMux) Remove(index string)](#WriteMux.Remove)
  * [func (w *WriteMux) Write(p []byte) (n int, err error)](#WriteMux.Write)


#### <a name="pkg-files">Package files</a>
[writemux.go](https://github.com/cognusion/go-writemux/tree/master/writemux.go)



## <a name="pkg-variables">Variables</a>
``` go
var (
    // ErrorNoWriters is returned by a WriteMux created by NewWriteMuxWithErrors,
    // when there are zero writers in the mux.
    ErrorNoWriters = errors.New("there are no writer in the mux")
)
```



## <a name="WriteMux">type</a> [WriteMux](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=517:653#L21)
``` go
type WriteMux struct {
    // contains filtered or unexported fields
}

```
WriteMux is a WriteCloser that can have WriteClosers added and removed
from the group, so that Write() and Close() calls can be mirrored to all
mux members. All operations after proper initialization are goro-safe.







### <a name="NewWriteMux">func</a> [NewWriteMux](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=747:774#L30)
``` go
func NewWriteMux() WriteMux
```
NewWriteMux returns an initialized WriteMux. Writes that generate errors
are ignored.


### <a name="NewWriteMuxWithErrors">func</a> [NewWriteMuxWithErrors](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=1103:1140#L40)
``` go
func NewWriteMuxWithErrors() WriteMux
```
NewWriteMuxWithErrors returns an initialized WriteMux. Writes that generate errors
cause the Write to fail, returning a wrapped error with the index of the member causing
the error. Subsequent members are not written to.





### <a name="WriteMux.Add">func</a> (\*WriteMux) [Add](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=1505:1561#L51)
``` go
func (w *WriteMux) Add(wc io.WriteCloser) (index string)
```
Add will add the WriteCloser to the mux, returning an index that can be used
in the future to remove the WriteCloser from the mux. The index should not
be intuited as any usable value beyond the future parameter to Remove().




### <a name="WriteMux.Close">func</a> (\*WriteMux) [Close](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=2514:2546#L93)
``` go
func (w *WriteMux) Close() error
```
Close sequentially closes all members of the mux.




### <a name="WriteMux.Remove">func</a> (\*WriteMux) [Remove](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=1738:1777#L60)
``` go
func (w *WriteMux) Remove(index string)
```
Remove takes the specified index, and removes it from the mux.




### <a name="WriteMux.Write">func</a> (\*WriteMux) [Write](https://github.com/cognusion/go-writemux/tree/master/writemux.go?s=2047:2100#L69)
``` go
func (w *WriteMux) Write(p []byte) (n int, err error)
```
Write sequentially writes len(p) bytes to each WriteCloser in the mux.
Depending which New... method was used to create the mux, the writes are blind
or are passed back, halting the range.








- - -
Generated by [godoc2md](http://github.com/cognusion/godoc2md)

